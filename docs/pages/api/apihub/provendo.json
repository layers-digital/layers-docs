{
  "path": "/docs/api/apihub/provendo",
  "template": "default",
  "title": "Provendos dados para uma Action",
  "tableOfContents": false,
  "previousText": "Consumindo Informações",
  "previousUrl": "/docs/api/apihub/consumindo",
  "nextText": "Actions Disponíveis",
  "nextUrl": "/docs/api/apihub/actions",
  "body": [
    "div",
    null,
    [
      "p",
      {
        "class": "intro"
      },
      "Para um App Consumidor poder consumir dados de uma action é necessário que haja um app responsável por prover dados para essa Action. Um app com essa responsabilidade é chamado de App Provedor. Um exemplo comum desse tipo são ERPs que fornecem diversos dados como notas acadêmicas, registros médicos e etc, que podem ser utilizados por outros apps."
    ],
    " ",
    [
      "h2",
      {
        "id": "respondendo-por-uma-action"
      },
      " ",
      [
        "a",
        {
          "href": "#respondendo-por-uma-action"
        },
        "Respondendo por uma Action"
      ],
      " "
    ],
    " ",
    [
      "h3",
      {
        "id": "request"
      },
      " ",
      [
        "a",
        {
          "href": "#request"
        },
        "Request"
      ],
      " "
    ],
    " ",
    [
      "p",
      null,
      "Para um App Provedor ser responsável por determinada action, é necessário que seja implementada uma rota para sua action específica."
    ],
    " ",
    [
      "docs-code",
      {
        "language": "http"
      },
      " ",
      [
        "pre",
        null,
        [
          "code",
          null,
          [
            "span",
            {
              "class": "token method"
            },
            [
              "span",
              {
                "class": "token post"
              },
              "POST"
            ]
          ],
          " ",
          [
            "span",
            {
              "class": "token schema"
            },
            "https://"
          ],
          "api.app_provedor.com",
          [
            "span",
            {
              "class": "token path"
            },
            [
              "span",
              {
                "class": "token version"
              },
              "/v1"
            ],
            "/layers/actions/",
            [
              "span",
              {
                "class": "token param"
              },
              "{{action}}"
            ]
          ]
        ]
      ],
      " "
    ],
    " ",
    [
      "p",
      null,
      "Nesta rota, você deve esperar uma requisição com, no mínimo, os seguintes parâmetros no corpo da mensagem:"
    ],
    " ",
    [
      "docs-code",
      {
        "language": "json"
      },
      " ",
      [
        "pre",
        null,
        [
          "code",
          null,
          [
            "span",
            {
              "class": "token punctuation"
            },
            "{"
          ],
          "\n  ",
          [
            "span",
            {
              "class": "token property"
            },
            "\"context\""
          ],
          [
            "span",
            {
              "class": "token operator"
            },
            ":"
          ],
          " ",
          [
            "span",
            {
              "class": "token punctuation"
            },
            "{"
          ],
          "\n    ",
          [
            "span",
            {
              "class": "token property"
            },
            "\"issuedAt\""
          ],
          [
            "span",
            {
              "class": "token operator"
            },
            ":"
          ],
          " ",
          [
            "span",
            {
              "class": "token string"
            },
            "\"2022-07-14T14:36:28.242Z\""
          ],
          [
            "span",
            {
              "class": "token punctuation"
            },
            ","
          ],
          " ",
          [
            "span",
            {
              "class": "token comment"
            },
            "// data e hora da requisição"
          ],
          "\n    ",
          [
            "span",
            {
              "class": "token property"
            },
            "\"action\""
          ],
          [
            "span",
            {
              "class": "token operator"
            },
            ":"
          ],
          " ",
          [
            "span",
            {
              "class": "token string"
            },
            "\"@layers:identificador_da_action\""
          ],
          [
            "span",
            {
              "class": "token punctuation"
            },
            ","
          ],
          " ",
          [
            "span",
            {
              "class": "token comment"
            },
            "// action específica"
          ],
          "\n    ",
          [
            "span",
            {
              "class": "token property"
            },
            "\"community\""
          ],
          [
            "span",
            {
              "class": "token operator"
            },
            ":"
          ],
          " ",
          [
            "span",
            {
              "class": "token string"
            },
            "\"test\""
          ],
          " ",
          [
            "span",
            {
              "class": "token comment"
            },
            "// comunidade específica"
          ],
          "\n  ",
          [
            "span",
            {
              "class": "token punctuation"
            },
            "}"
          ],
          [
            "span",
            {
              "class": "token punctuation"
            },
            ","
          ],
          "\n  ",
          [
            "span",
            {
              "class": "token property"
            },
            "\"secret\""
          ],
          [
            "span",
            {
              "class": "token operator"
            },
            ":"
          ],
          " ",
          [
            "span",
            {
              "class": "token string"
            },
            "\"exemplo\""
          ],
          [
            "span",
            {
              "class": "token punctuation"
            },
            ","
          ],
          " ",
          [
            "span",
            {
              "class": "token comment"
            },
            "// chave secreta específica do app"
          ],
          "\n",
          [
            "span",
            {
              "class": "token punctuation"
            },
            "}"
          ]
        ]
      ],
      " "
    ],
    " ",
    [
      "p",
      null,
      "Dependendo da Action, outros campos podem ser incluídos para dar mais contexto de quem está requisitando a informação. Caso seja uma action que dependa do usuário final, o ID deste usuário na Layers pode ser enviado numa chave ",
      [
        "code",
        null,
        "layersID"
      ],
      ", por exemplo."
    ],
    " ",
    [
      "h3",
      {
        "id": "response"
      },
      " ",
      [
        "a",
        {
          "href": "#response"
        },
        "Response"
      ],
      " "
    ],
    " ",
    [
      "p",
      null,
      "A payload da resposta da requisição varia de acordo com a Action."
    ]
  ],
  "headings": [
    {
      "text": "Respondendo por uma Action",
      "href": "#respondendo-por-uma-action"
    }
  ],
  "pageClass": "page-api-apihub-provendo"
}
