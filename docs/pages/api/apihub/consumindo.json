{
  "path": "/docs/api/apihub/consumindo",
  "template": "default",
  "title": "Consumindo uma Action",
  "tableOfContents": false,
  "previousText": "Introdução",
  "previousUrl": "/docs/api/apihub",
  "nextText": "Provendo Informações",
  "nextUrl": "/docs/api/apihub/provendo",
  "body": [
    "div",
    null,
    [
      "p",
      {
        "class": "intro"
      },
      "Dada uma certa Action, antes de consumí-la, é preciso que seu App Consumidor descubra quais são os Apps Provedores disponíveis para essa Action. Após isso, é preciso que seu app requisite para cada um dos Provedores as informações da action específica."
    ],
    " ",
    [
      "p",
      {
        "class": "intro"
      },
      "Para descobrir os Apps Provedores da Action, basta rodar a seguinte requisição:"
    ],
    " ",
    [
      "h2",
      {
        "id": "descobrindo-os-apps-provedores"
      },
      " ",
      [
        "a",
        {
          "href": "#descobrindo-os-apps-provedores"
        },
        "Descobrindo os Apps Provedores"
      ],
      " "
    ],
    " ",
    [
      "h3",
      {
        "id": "request"
      },
      " ",
      [
        "a",
        {
          "href": "#request"
        },
        "Request"
      ],
      " "
    ],
    " ",
    [
      "docs-code",
      {
        "language": "http"
      },
      " ",
      [
        "pre",
        null,
        [
          "code",
          null,
          [
            "span",
            {
              "class": "token method"
            },
            [
              "span",
              {
                "class": "token get"
              },
              "GET"
            ]
          ],
          " ",
          [
            "span",
            {
              "class": "token schema"
            },
            "https://"
          ],
          "api.layers.digital",
          [
            "span",
            {
              "class": "token path"
            },
            [
              "span",
              {
                "class": "token version"
              },
              "/v1"
            ],
            "/services/discover/",
            [
              "span",
              {
                "class": "token param"
              },
              "{{action}}"
            ]
          ]
        ]
      ],
      " "
    ],
    " ",
    [
      "docs-code",
      {
        "language": "headers"
      },
      " ",
      [
        "pre",
        null,
        [
          "code",
          null,
          "Authorization: Bearer {{token_do_seu_app}}\ncommunity-id: {{id_da_comunidade}}"
        ]
      ],
      " "
    ],
    " ",
    [
      "h3",
      {
        "id": "response"
      },
      " ",
      [
        "a",
        {
          "href": "#response"
        },
        "Response"
      ],
      " "
    ],
    " ",
    [
      "docs-code",
      {
        "language": "json"
      },
      " ",
      [
        "pre",
        null,
        [
          "code",
          null,
          [
            "span",
            {
              "class": "token punctuation"
            },
            "["
          ],
          "\n    ",
          [
            "span",
            {
              "class": "token punctuation"
            },
            "{"
          ],
          "\n        ",
          [
            "span",
            {
              "class": "token property"
            },
            "\"id\""
          ],
          [
            "span",
            {
              "class": "token operator"
            },
            ":"
          ],
          " ",
          [
            "span",
            {
              "class": "token string"
            },
            "\"myerp\""
          ],
          [
            "span",
            {
              "class": "token punctuation"
            },
            ","
          ],
          " ",
          [
            "span",
            {
              "class": "token comment"
            },
            "// ID do App Provedor"
          ],
          "\n        ",
          [
            "span",
            {
              "class": "token property"
            },
            "\"icon\""
          ],
          [
            "span",
            {
              "class": "token operator"
            },
            ":"
          ],
          " ",
          [
            "span",
            {
              "class": "token string"
            },
            "\"https://cdn.layers.digital/admin/uploads/b33178bd-75a3-4c5c-8018-f1b08c174ff2/Frame%203%20(1).png\""
          ],
          [
            "span",
            {
              "class": "token punctuation"
            },
            ","
          ],
          " ",
          [
            "span",
            {
              "class": "token comment"
            },
            "// Logo do App Provedor"
          ],
          "\n        ",
          [
            "span",
            {
              "class": "token property"
            },
            "\"displayName\""
          ],
          [
            "span",
            {
              "class": "token operator"
            },
            ":"
          ],
          " ",
          [
            "span",
            {
              "class": "token string"
            },
            "\"My ERP\""
          ],
          [
            "span",
            {
              "class": "token punctuation"
            },
            ","
          ],
          " ",
          [
            "span",
            {
              "class": "token comment"
            },
            "// Nome do App Provedor"
          ],
          "\n        ",
          [
            "span",
            {
              "class": "token property"
            },
            "\"versions\""
          ],
          [
            "span",
            {
              "class": "token operator"
            },
            ":"
          ],
          " ",
          [
            "span",
            {
              "class": "token punctuation"
            },
            "["
          ],
          " ",
          [
            "span",
            {
              "class": "token comment"
            },
            "// Lista das versões que o App Provedor consegue responder da action específica"
          ],
          "\n            ",
          [
            "span",
            {
              "class": "token number"
            },
            "1"
          ],
          "\n        ",
          [
            "span",
            {
              "class": "token punctuation"
            },
            "]"
          ],
          "\n    ",
          [
            "span",
            {
              "class": "token punctuation"
            },
            "}"
          ],
          [
            "span",
            {
              "class": "token punctuation"
            },
            ","
          ],
          "\n    ",
          [
            "span",
            {
              "class": "token punctuation"
            },
            "{"
          ],
          "\n        ",
          [
            "span",
            {
              "class": "token property"
            },
            "\"id\""
          ],
          [
            "span",
            {
              "class": "token operator"
            },
            ":"
          ],
          " ",
          [
            "span",
            {
              "class": "token string"
            },
            "\"erp-modelo\""
          ],
          [
            "span",
            {
              "class": "token punctuation"
            },
            ","
          ],
          "\n        ",
          [
            "span",
            {
              "class": "token property"
            },
            "\"icon\""
          ],
          [
            "span",
            {
              "class": "token operator"
            },
            ":"
          ],
          " ",
          [
            "span",
            {
              "class": "token string"
            },
            "\"https://cdn.layers.digital/admin/uploads/b89bb1d5-d76c-4444-990b-e8e1e699fd82/logo-erpmodelo.png\""
          ],
          [
            "span",
            {
              "class": "token punctuation"
            },
            ","
          ],
          "\n        ",
          [
            "span",
            {
              "class": "token property"
            },
            "\"displayName\""
          ],
          [
            "span",
            {
              "class": "token operator"
            },
            ":"
          ],
          " ",
          [
            "span",
            {
              "class": "token string"
            },
            "\"ERP Modelo\""
          ],
          [
            "span",
            {
              "class": "token punctuation"
            },
            ","
          ],
          "\n        ",
          [
            "span",
            {
              "class": "token property"
            },
            "\"versions\""
          ],
          [
            "span",
            {
              "class": "token operator"
            },
            ":"
          ],
          " ",
          [
            "span",
            {
              "class": "token punctuation"
            },
            "["
          ],
          "\n            ",
          [
            "span",
            {
              "class": "token number"
            },
            "1"
          ],
          "\n        ",
          [
            "span",
            {
              "class": "token punctuation"
            },
            "]"
          ],
          "\n    ",
          [
            "span",
            {
              "class": "token punctuation"
            },
            "}"
          ],
          "\n",
          [
            "span",
            {
              "class": "token punctuation"
            },
            "]"
          ]
        ]
      ],
      " "
    ],
    " ",
    [
      "p",
      null,
      "A partir dessa resposta, precisamos, para cada App Provedor, requisitar seus dados referentes a action específica."
    ],
    " ",
    [
      "h2",
      {
        "id": "requisitando-informa-es-para-um-app-provedor-espec-fico"
      },
      " ",
      [
        "a",
        {
          "href": "#requisitando-informa-es-para-um-app-provedor-espec-fico"
        },
        "Requisitando Informações para um App Provedor específico"
      ],
      " "
    ],
    " ",
    [
      "h3",
      {
        "id": "request"
      },
      " ",
      [
        "a",
        {
          "href": "#request"
        },
        "Request"
      ],
      " "
    ],
    " ",
    [
      "docs-code",
      {
        "language": "http"
      },
      " ",
      [
        "pre",
        null,
        [
          "code",
          null,
          [
            "span",
            {
              "class": "token method"
            },
            [
              "span",
              {
                "class": "token get"
              },
              "GET"
            ]
          ],
          " ",
          [
            "span",
            {
              "class": "token schema"
            },
            "https://"
          ],
          "api.layers.digital",
          [
            "span",
            {
              "class": "token path"
            },
            [
              "span",
              {
                "class": "token version"
              },
              "/v1"
            ],
            "/services/call/",
            [
              "span",
              {
                "class": "token param"
              },
              "{{action}}"
            ],
            "/",
            [
              "span",
              {
                "class": "token param"
              },
              "{{id_app_Provedor}}"
            ]
          ],
          [
            "span",
            {
              "class": "token query"
            },
            [
              "span",
              {
                "class": "token separator"
              },
              "?"
            ],
            [
              "span",
              {
                "class": "token param"
              },
              [
                "span",
                {
                  "class": "token name"
                },
                "version"
              ],
              "=",
              [
                "span",
                {
                  "class": "token value"
                },
                [
                  "span",
                  {
                    "class": "token string"
                  },
                  "{{versao_da_action_desejada}}"
                ]
              ]
            ]
          ]
        ]
      ],
      " "
    ],
    " ",
    [
      "docs-code",
      {
        "language": "headers"
      },
      " ",
      [
        "pre",
        null,
        [
          "code",
          null,
          "Authorization: Bearer {{token_do_seu_app}}\ncommunity-id: {{id_da_comunidade}}"
        ]
      ],
      " "
    ],
    " ",
    [
      "p",
      null,
      "O corpo da requisição varia de acordo com a action, assim como o payload de resposta. Você pode checar com detalhes nas seções logo abaixo! :) "
    ]
  ],
  "headings": [
    {
      "text": "Descobrindo os Apps Provedores",
      "href": "#descobrindo-os-apps-provedores"
    },
    {
      "text": "Requisitando Informações para um App Provedor específico",
      "href": "#requisitando-informa-es-para-um-app-provedor-espec-fico"
    }
  ],
  "pageClass": "page-api-apihub-consumindo"
}
