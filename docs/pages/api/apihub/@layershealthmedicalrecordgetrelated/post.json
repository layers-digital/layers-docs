{
  "template": "api-route",
  "title": "Prover ficha médica",
  "path": "/docs/api/apihub/@layershealthmedicalrecordgetrelated/post",
  "body": [
    "div",
    null,
    [
      "p",
      {
        "class": "intro"
      },
      "O Hub de API's no Layers permite que apps troquem informações por meio de actions: protocolos especificando o formato de requisição e resposta aceitos para uma determinada informação. Apps que provém informações de ficha horária por meio da action ",
      [
        "code",
        null,
        "@layers:health:MedicalRecord:getRelated"
      ],
      " receberão a requisição no formato abaixo e devem respondê-la com todos os campos obrigatórios."
    ]
  ],
  "serviceId": "apihub",
  "example": [
    "div",
    null,
    [
      "docs-code",
      {
        "language": "http"
      },
      "\n  ",
      [
        "pre",
        null,
        [
          "code",
          null,
          [
            "span",
            {
              "class": "token method"
            },
            [
              "span",
              {
                "class": "token post"
              },
              "POST"
            ]
          ],
          " ",
          [
            "span",
            {
              "class": "token schema"
            },
            "https://"
          ],
          "api.provedor-registrado.com",
          [
            "span",
            {
              "class": "token path"
            },
            [
              "span",
              {
                "class": "token version"
              },
              "/v1"
            ],
            "/@layers:health:MedicalRecord:getRelated"
          ]
        ]
      ],
      "\n"
    ]
  ],
  "requestExample": [
    "div",
    null,
    [
      "docs-code",
      {
        "language": "json"
      },
      "\n  ",
      [
        "pre",
        null,
        [
          "code",
          null,
          [
            "span",
            {
              "class": "token punctuation"
            },
            "{"
          ],
          "\n  ",
          [
            "span",
            {
              "class": "token property"
            },
            "\"context\""
          ],
          [
            "span",
            {
              "class": "token operator"
            },
            ":"
          ],
          " ",
          [
            "span",
            {
              "class": "token punctuation"
            },
            "{"
          ],
          "\n    ",
          [
            "span",
            {
              "class": "token property"
            },
            "\"issuedAt\""
          ],
          [
            "span",
            {
              "class": "token operator"
            },
            ":"
          ],
          " ",
          [
            "span",
            {
              "class": "token string"
            },
            "\"2020-08-05T22:07:06.890Z\""
          ],
          [
            "span",
            {
              "class": "token punctuation"
            },
            ","
          ],
          "\n    ",
          [
            "span",
            {
              "class": "token property"
            },
            "\"action\""
          ],
          [
            "span",
            {
              "class": "token operator"
            },
            ":"
          ],
          " ",
          [
            "span",
            {
              "class": "token string"
            },
            "\"@layers:identificador_da_action\""
          ],
          [
            "span",
            {
              "class": "token punctuation"
            },
            ","
          ],
          "\n    ",
          [
            "span",
            {
              "class": "token property"
            },
            "\"community\""
          ],
          [
            "span",
            {
              "class": "token operator"
            },
            ":"
          ],
          " ",
          [
            "span",
            {
              "class": "token string"
            },
            "\"test\""
          ],
          "\n  ",
          [
            "span",
            {
              "class": "token punctuation"
            },
            "}"
          ],
          [
            "span",
            {
              "class": "token punctuation"
            },
            ","
          ],
          "\n  ",
          [
            "span",
            {
              "class": "token property"
            },
            "\"secret\""
          ],
          [
            "span",
            {
              "class": "token operator"
            },
            ":"
          ],
          " ",
          [
            "span",
            {
              "class": "token string"
            },
            "\"exemplo\""
          ],
          [
            "span",
            {
              "class": "token punctuation"
            },
            ","
          ],
          "\n  ",
          [
            "span",
            {
              "class": "token property"
            },
            "\"user\""
          ],
          [
            "span",
            {
              "class": "token operator"
            },
            ":"
          ],
          " ",
          [
            "span",
            {
              "class": "token punctuation"
            },
            "{"
          ],
          "\n    ",
          [
            "span",
            {
              "class": "token property"
            },
            "\"id\""
          ],
          [
            "span",
            {
              "class": "token operator"
            },
            ":"
          ],
          " ",
          [
            "span",
            {
              "class": "token string"
            },
            "\"5bb2575199d7179dfe85be02\""
          ],
          [
            "span",
            {
              "class": "token punctuation"
            },
            ","
          ],
          "\n    ",
          [
            "span",
            {
              "class": "token property"
            },
            "\"name\""
          ],
          [
            "span",
            {
              "class": "token operator"
            },
            ":"
          ],
          " ",
          [
            "span",
            {
              "class": "token string"
            },
            "\"João Pedro\""
          ],
          [
            "span",
            {
              "class": "token punctuation"
            },
            ","
          ],
          "\n    ",
          [
            "span",
            {
              "class": "token property"
            },
            "\"alias\""
          ],
          [
            "span",
            {
              "class": "token operator"
            },
            ":"
          ],
          " ",
          [
            "span",
            {
              "class": "token string"
            },
            "\"0001\""
          ],
          [
            "span",
            {
              "class": "token punctuation"
            },
            ","
          ],
          "\n    ",
          [
            "span",
            {
              "class": "token property"
            },
            "\"timezone\""
          ],
          [
            "span",
            {
              "class": "token operator"
            },
            ":"
          ],
          " ",
          [
            "span",
            {
              "class": "token string"
            },
            "\"America/Sao_Paulo\""
          ],
          [
            "span",
            {
              "class": "token punctuation"
            },
            ","
          ],
          "\n    ",
          [
            "span",
            {
              "class": "token property"
            },
            "\"language\""
          ],
          [
            "span",
            {
              "class": "token operator"
            },
            ":"
          ],
          " ",
          [
            "span",
            {
              "class": "token string"
            },
            "\"pt/BR\""
          ],
          [
            "span",
            {
              "class": "token punctuation"
            },
            ","
          ],
          "\n    ",
          [
            "span",
            {
              "class": "token property"
            },
            "\"accountId\""
          ],
          [
            "span",
            {
              "class": "token operator"
            },
            ":"
          ],
          " ",
          [
            "span",
            {
              "class": "token string"
            },
            "\"5bb2575199d7179dfe85be02\""
          ],
          "\n  ",
          [
            "span",
            {
              "class": "token punctuation"
            },
            "}"
          ],
          "\n",
          [
            "span",
            {
              "class": "token punctuation"
            },
            "}"
          ]
        ]
      ],
      "\n"
    ]
  ],
  "responseExample": [
    "div",
    null,
    [
      "docs-code",
      {
        "language": "json"
      },
      "\n  ",
      [
        "pre",
        null,
        [
          "code",
          null,
          [
            "span",
            {
              "class": "token punctuation"
            },
            "{"
          ],
          "\n  ",
          [
            "span",
            {
              "class": "token property"
            },
            "\"result\""
          ],
          [
            "span",
            {
              "class": "token operator"
            },
            ":"
          ],
          " ",
          [
            "span",
            {
              "class": "token punctuation"
            },
            "["
          ],
          "\n    ",
          [
            "span",
            {
              "class": "token punctuation"
            },
            "{"
          ],
          "\n      ",
          [
            "span",
            {
              "class": "token property"
            },
            "\"id\""
          ],
          [
            "span",
            {
              "class": "token operator"
            },
            ":"
          ],
          " ",
          [
            "span",
            {
              "class": "token string"
            },
            "\"0001\""
          ],
          [
            "span",
            {
              "class": "token punctuation"
            },
            ","
          ],
          "\n      ",
          [
            "span",
            {
              "class": "token property"
            },
            "\"name\""
          ],
          [
            "span",
            {
              "class": "token operator"
            },
            ":"
          ],
          " ",
          [
            "span",
            {
              "class": "token string"
            },
            "\"Lucas Grippa\""
          ],
          [
            "span",
            {
              "class": "token punctuation"
            },
            ","
          ],
          "\n      ",
          [
            "span",
            {
              "class": "token property"
            },
            "\"updatedAt\""
          ],
          [
            "span",
            {
              "class": "token operator"
            },
            ":"
          ],
          " ",
          [
            "span",
            {
              "class": "token string"
            },
            "\"2020-08-05T22:07:06.890Z\""
          ],
          [
            "span",
            {
              "class": "token punctuation"
            },
            ","
          ],
          "\n      ",
          [
            "span",
            {
              "class": "token property"
            },
            "\"sections\""
          ],
          [
            "span",
            {
              "class": "token operator"
            },
            ":"
          ],
          " ",
          [
            "span",
            {
              "class": "token punctuation"
            },
            "["
          ],
          "\n        ",
          [
            "span",
            {
              "class": "token punctuation"
            },
            "{"
          ],
          "\n          ",
          [
            "span",
            {
              "class": "token property"
            },
            "\"title\""
          ],
          [
            "span",
            {
              "class": "token operator"
            },
            ":"
          ],
          " ",
          [
            "span",
            {
              "class": "token string"
            },
            "\"Contato de emergência\""
          ],
          [
            "span",
            {
              "class": "token punctuation"
            },
            ","
          ],
          "\n          ",
          [
            "span",
            {
              "class": "token property"
            },
            "\"fields\""
          ],
          [
            "span",
            {
              "class": "token operator"
            },
            ":"
          ],
          " ",
          [
            "span",
            {
              "class": "token punctuation"
            },
            "["
          ],
          "\n            ",
          [
            "span",
            {
              "class": "token null keyword"
            },
            "null"
          ],
          "\n          ",
          [
            "span",
            {
              "class": "token punctuation"
            },
            "]"
          ],
          "\n        ",
          [
            "span",
            {
              "class": "token punctuation"
            },
            "}"
          ],
          "\n      ",
          [
            "span",
            {
              "class": "token punctuation"
            },
            "]"
          ],
          "\n    ",
          [
            "span",
            {
              "class": "token punctuation"
            },
            "}"
          ],
          "\n  ",
          [
            "span",
            {
              "class": "token punctuation"
            },
            "]"
          ],
          "\n",
          [
            "span",
            {
              "class": "token punctuation"
            },
            "}"
          ]
        ]
      ],
      "\n"
    ]
  ],
  "responseSchema": {
    "title": "@layers:health:MedicalRecord:getRelated",
    "type": "object",
    "required": [
      "result"
    ],
    "properties": {
      "result": {
        "type": "array",
        "items": {
          "type": "object",
          "required": [
            "name",
            "sections"
          ],
          "properties": {
            "id": {
              "type": "string",
              "description": "ID interno do prontuário",
              "required": false,
              "example": "0001"
            },
            "name": {
              "type": "string",
              "description": "Nome da pessoa do prontuário",
              "required": true,
              "example": "Lucas Grippa"
            },
            "updatedAt": {
              "type": "string",
              "format": "date-time",
              "description": "Data da última atualização do prontuário",
              "required": false
            },
            "sections": {
              "type": "array",
              "description": "Seções do prontuário",
              "items": {
                "type": "object",
                "required": [
                  "title",
                  "fields"
                ],
                "properties": {
                  "title": {
                    "type": "string",
                    "description": "Título da seção do prontuário",
                    "required": true,
                    "example": "Contato de emergência"
                  },
                  "fields": {
                    "type": "array",
                    "description": "Campos da seção do prontuário",
                    "required": true,
                    "items": {
                      "anyOf": [
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "description": "Tipo do campo",
                              "required": true,
                              "example": "number"
                            },
                            "title": {
                              "type": "string",
                              "description": "Nome do campo",
                              "required": true,
                              "example": "Peso"
                            },
                            "caption": {
                              "type": "string",
                              "description": "Descrição do campo",
                              "required": false,
                              "example": "(medido com roupa)"
                            },
                            "number": {
                              "type": [
                                "string",
                                "number"
                              ],
                              "description": "Valor do campo",
                              "required": true,
                              "example": 57.5
                            },
                            "unit": {
                              "type": "string",
                              "description": "Unidade do número",
                              "required": false,
                              "example": "Kg"
                            },
                            "loinc": {
                              "type": "string",
                              "description": "Código LOINC do registro (https://loinc.org/3141-9/)",
                              "required": false
                            }
                          }
                        },
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "description": "Tipo do campo",
                              "required": true,
                              "example": "text"
                            },
                            "title": {
                              "type": "string",
                              "description": "Nome do campo",
                              "required": true,
                              "example": "Paulo Yoko"
                            },
                            "caption": {
                              "type": "string",
                              "description": "Descrição do campo",
                              "required": false,
                              "example": "Responsável legal"
                            },
                            "text": {
                              "type": "string",
                              "description": "Valor do campo",
                              "required": true,
                              "example": "+55 11 99331-6662 (cel)"
                            },
                            "loinc": {
                              "type": "string",
                              "description": "Código LOINC do registro (https://loinc.org/3141-9/)",
                              "required": false
                            }
                          }
                        },
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "description": "Tipo do campo",
                              "required": true,
                              "example": "tags"
                            },
                            "title": {
                              "type": "string",
                              "description": "Nome do campo",
                              "required": true,
                              "example": "Tipo sanguíneo"
                            },
                            "tags": {
                              "type": [
                                "string",
                                "array"
                              ],
                              "description": "Valores das tags. Pode ser uma string ou array de strings",
                              "required": true,
                              "example": "O-"
                            },
                            "mood": {
                              "type": "string",
                              "enum": [
                                "neutral",
                                "good",
                                "attention",
                                "bad"
                              ],
                              "description": "Característica da informação (neutra, boa, ruim e precisa de atenção)",
                              "required": true,
                              "example": "neutral"
                            },
                            "loinc": {
                              "type": "string",
                              "description": "Código LOINC do registro (https://loinc.org/3141-9/)",
                              "required": false
                            }
                          }
                        },
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "description": "Tipo do campo",
                              "required": true,
                              "example": "attachment"
                            },
                            "title": {
                              "type": "string",
                              "description": "Nome do campo",
                              "required": true,
                              "example": "Peso"
                            },
                            "attachment": {
                              "type": "object",
                              "properties": {
                                "title": {
                                  "type": "string",
                                  "description": "Título do arquivo",
                                  "required": true,
                                  "example": "raiox.pdf"
                                },
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "file",
                                    "link",
                                    "image"
                                  ],
                                  "description": "Tipo do arquivo",
                                  "required": true,
                                  "example": "file"
                                },
                                "url": {
                                  "type": "string",
                                  "description": "URL do arquivo",
                                  "required": true,
                                  "example": "https://hospitalexample.com.br/prontuariojaneiro.pdf"
                                }
                              }
                            }
                          }
                        }
                      ]
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "route": {
    "type": "route",
    "path": "/@layers:health:MedicalRecord:getRelated",
    "method": "post",
    "spec": {
      "tags": [
        "MedicalRecord:getRelated"
      ],
      "summary": "Prover ficha médica",
      "description": "O Hub de API's no Layers permite que apps troquem informações por meio de actions: protocolos especificando o formato de requisição e resposta aceitos para uma determinada informação. Apps que provém informações de ficha horária por meio da action `@layers:health:MedicalRecord:getRelated` receberão a requisição no formato abaixo e devem respondê-la com todos os campos obrigatórios.",
      "requestBody": {
        "content": {
          "application/json": {
            "schema": {
              "allOf": [
                {
                  "$ref": "#/components/requestBodies/Context"
                },
                {
                  "$ref": "#/components/requestBodies/@layers:health:MedicalRecord:getRelated"
                }
              ]
            }
          }
        }
      },
      "responses": {
        "200": {
          "description": "OK",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/responseBodies/@layers:health:MedicalRecord:getRelated"
              }
            }
          }
        }
      },
      "externalDocs": {
        "description": "Prover ficha médica",
        "url": "/docs/api/apihub/@layershealthmedicalrecordgetrelated/post"
      }
    },
    "tags": [
      "MedicalRecord:getRelated"
    ],
    "summary": "Prover ficha médica"
  },
  "headings": [],
  "pageClass": "page-api-apihub-layershealthmedicalrecordgetrelated-post"
}
